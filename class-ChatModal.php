<?php

namespace BigPurpleAIWriter;

if ( ! defined( 'ABSPATH' ) ) exit; // Exit if accessed directly

class ChatModal
{

	/**
	 * @return void
	 */
	public static function init()
	{
		add_action(
			'admin_enqueue_scripts',
			function () {
				wp_enqueue_style('bigpurple-ai-writer', plugin_dir_url(__FILE__) . 'styles.css');
				wp_enqueue_script('bigpurple-ai-writer', plugin_dir_url(__FILE__) . 'bigpurple.js');
			}
		);

		add_action('admin_footer', array(self::class, 'modal_body'));
	}

	/**
	 * Defines the content of the modal body.
	 */
	public static function modal_body()
	{
		?>
		<template id='bigpurple-ai-writer-modal-body'>
			<div id='bigpurple-ai-writer-header'>
				<h1>BigPurple AI Writer<span id='bigpurple-ai-writer-'>v1.0.0</span></h1>
				<button id='bigpurple-ai-writer-close'>
					<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M18 6L6 18M6 6L18 18" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
					</svg>
				</button>
			</div>
			<div id='bigpurple-ai-writer-chat'>
				<div id='bigpurple-ai-writer-messages'>
					<div id='bigpurple-ai-writer-intro'>

						<svg width="199" height="60" viewBox="0 0 199 60" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M4.26434 29.9993C4.26434 40.1861 10.1844 48.9895 18.7689 53.1613L6.4925 19.5255C5.06452 22.7262 4.26434 26.2682 4.26434 29.9993Z" fill="#B4B4B4" />
							<path d="M47.374 28.7006C47.374 25.5199 46.2315 23.3173 45.2516 21.6028C43.947 19.4829 42.7242 17.6876 42.7242 15.5677C42.7242 13.2019 44.5185 10.9997 47.0459 10.9997C47.16 10.9997 47.2682 11.0139 47.3794 11.0203C42.8006 6.82549 36.7004 4.26434 30.0002 4.26434C21.0093 4.26434 13.0991 8.87735 8.49734 15.8645C9.10115 15.8826 9.67018 15.8953 10.1535 15.8953C12.8454 15.8953 17.0123 15.5687 17.0123 15.5687C18.3997 15.4869 18.5632 17.5245 17.1773 17.6886C17.1773 17.6886 15.7832 17.8527 14.2318 17.9339L23.6037 45.8103L29.2358 28.919L25.2261 17.933C23.8403 17.8517 22.5274 17.6876 22.5274 17.6876C21.1405 17.6063 21.3031 15.4859 22.6899 15.5677C22.6899 15.5677 26.9401 15.8943 29.4689 15.8943C32.1603 15.8943 36.3277 15.5677 36.3277 15.5677C37.716 15.4859 37.8791 17.5236 36.4927 17.6876C36.4927 17.6876 35.0956 17.8517 33.5472 17.933L42.8476 45.5983L45.4147 37.0202C46.5273 33.4605 47.374 30.9037 47.374 28.7006Z" fill="#B4B4B4" />
							<path d="M30.4518 32.2504L22.7301 54.6882C25.0356 55.3659 27.4739 55.7366 30.0002 55.7366C32.9972 55.7366 35.8713 55.2185 38.5466 54.2778C38.4775 54.1676 38.4148 54.0506 38.3634 53.9233L30.4518 32.2504Z" fill="#B4B4B4" />
							<path d="M52.5825 17.6519C52.6931 18.4716 52.7558 19.3516 52.7558 20.2982C52.7558 22.9098 52.2681 25.8456 50.799 29.5164L42.9377 52.245C50.5889 47.7834 55.7352 39.4941 55.7352 29.9998C55.7357 25.5253 54.5927 21.3178 52.5825 17.6519Z" fill="#B4B4B4" />
							<path d="M30.0002 0C13.4585 0 0 13.4576 0 29.9993C0 46.5429 13.4585 60 30.0002 60C46.5415 60 60.002 46.5429 60.002 29.9993C60.0015 13.4576 46.5415 0 30.0002 0ZM30.0002 58.6249C14.2171 58.6249 1.37558 45.7834 1.37558 29.9993C1.37558 14.2161 14.2166 1.37558 30.0002 1.37558C45.7829 1.37558 58.6234 14.2161 58.6234 29.9993C58.6234 45.7834 45.7829 58.6249 30.0002 58.6249Z" fill="#B4B4B4" />
							<path d="M100.002 18.3334V41.6667M88.3354 30H111.669" stroke="#B4B4B4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
							<path d="M166.362 0.000161235C159.824 0.000161235 154.015 4.22493 151.99 10.4642C147.787 11.3337 144.157 13.9754 142.031 17.719C138.751 23.4073 139.501 30.5592 143.893 35.4345C142.536 39.5199 143.001 43.9869 145.168 47.6873C148.427 53.3956 154.986 56.3227 161.402 54.962C164.245 58.1812 168.33 60.0165 172.617 59.9999C179.155 59.9999 184.964 55.7751 186.992 49.5359C191.202 48.663 194.825 46.0213 196.932 42.2844C200.231 36.596 199.481 29.4441 195.089 24.5656V24.5457C196.446 20.4603 195.981 15.9899 193.814 12.2729C190.555 6.58457 183.997 3.65743 177.6 5.01811C174.74 1.80556 170.649 -0.0197513 166.362 0.000161235ZM166.362 3.8997L166.342 3.91961C168.974 3.91961 171.504 4.83226 173.528 6.52151C173.446 6.56134 173.284 6.66422 173.165 6.72395L161.26 13.6137C160.652 13.9588 160.289 14.6093 160.289 15.3195V31.4918L155.167 28.5248V15.1569C155.164 8.94752 160.174 3.90965 166.362 3.8997ZM180.701 8.60901C184.716 8.60237 188.428 10.7496 190.433 14.2442C191.727 16.5209 192.213 19.1826 191.767 21.7612C191.684 21.7015 191.526 21.6185 191.424 21.5588L179.522 14.6491C178.914 14.304 178.168 14.304 177.56 14.6491L163.611 22.7369V16.803L175.127 10.119C176.821 9.13337 178.743 8.61232 180.701 8.60901ZM151.261 14.7487V28.9496C151.261 29.6599 151.624 30.2904 152.231 30.6555L166.157 38.7201L161.016 41.7069L149.517 35.0429C144.167 31.9299 142.338 25.0567 145.429 19.6837C146.74 17.407 148.8 15.6614 151.261 14.7487ZM177.94 18.2666L189.459 24.9306C194.825 28.0403 196.645 34.9068 193.547 40.2898L193.567 40.3097C192.252 42.5864 190.185 44.3321 187.738 45.2281V31.0239C187.738 30.3136 187.375 29.6632 186.767 29.318L172.822 21.2302L177.94 18.2666ZM169.48 23.1617L175.351 26.5734V33.3802L169.48 36.7919L163.608 33.3802V26.5734L169.48 23.1617ZM178.71 28.5248L183.831 31.4918V44.8398C183.831 51.0559 178.812 56.097 172.637 56.097V56.0771C170.024 56.0771 167.475 55.1612 165.471 53.4752C165.553 53.4354 165.735 53.3325 165.834 53.2728L177.735 46.3864C178.343 46.0412 178.726 45.3907 178.706 44.6805L178.71 28.5248ZM175.368 37.2631V43.197L163.849 49.8611C158.483 52.9509 151.644 51.1222 148.546 45.7558H148.566C147.252 43.4991 146.783 40.8175 147.228 38.2388C147.311 38.2986 147.473 38.3815 147.572 38.4413L159.473 45.3509C160.081 45.6961 160.827 45.6961 161.435 45.3509L175.368 37.2631Z" fill="#B4B4B4" />
						</svg>

						<p>Access ChatGPT right from the comfort of your WordPress dashboard.
						<p>
					</div>
					<div id='bigpurple-ai-writer-loading' style='display: none;'>
						<div class="bigpurple-ai-writer-loader">
							<div></div>
							<div></div>
							<div></div>
							<div></div>
						</div>
					</div>
				</div>

				<div id='bigpurple-ai-writer-action'>
					<input id='bigpurple-ai-writer-input' type='text' placeholder='Type a message...' />
					<button id='bigpurple-ai-writer-send'>
						<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M7.49988 10.5L15.7499 2.25M7.49988 10.5L10.1249 15.75C10.1578 15.8218 10.2107 15.8827 10.2771 15.9253C10.3436 15.968 10.4209 15.9907 10.4999 15.9907C10.5789 15.9907 10.6562 15.968 10.7227 15.9253C10.7892 15.8827 10.842 15.8218 10.8749 15.75L15.7499 2.25M7.49988 10.5L2.24993 7.875C2.17812 7.84209 2.11728 7.78926 2.07462 7.72279C2.03195 7.65631 2.00928 7.57899 2.00928 7.5C2.00928 7.42101 2.03195 7.34369 2.07462 7.27721C2.11728 7.21074 2.17812 7.15791 2.24993 7.125L15.7499 2.25" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
						</svg>
					</button>
				</div>
			</div>
		</template>
		<?php
	}
}
